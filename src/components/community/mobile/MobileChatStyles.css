/* Mobile-optimized community chat styles */

.mobile-chat-optimized {
  /* Touch-friendly message areas */
  --touch-target-size: 44px;
  --message-padding: 12px 16px;
  --avatar-size: 36px;
}

.mobile-chat-optimized .message-item {
  @apply px-4 py-3;
  min-height: var(--touch-target-size);
}

.mobile-chat-optimized .message-content {
  @apply text-base leading-relaxed;
  word-break: break-word;
  hyphens: auto;
}

.mobile-chat-optimized .message-avatar {
  width: var(--avatar-size);
  height: var(--avatar-size);
  @apply flex-shrink-0;
}

.mobile-chat-optimized .message-sender {
  @apply text-sm font-medium mb-1;
}

.mobile-chat-optimized .message-timestamp {
  @apply text-xs text-muted-foreground;
}

/* Enhanced touch feedback */
.touch-feedback {
  @apply transition-all duration-150;
  -webkit-tap-highlight-color: transparent;
}

.touch-feedback:active {
  @apply scale-95 bg-muted/50;
}

/* Smooth scrolling for message areas */
.mobile-chat-scrollarea {
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
}

/* Message input optimizations */
.mobile-message-input {
  @apply min-h-[44px] text-base;
  resize: none;
  field-sizing: content;
}

.mobile-message-input:focus {
  @apply ring-2 ring-primary/20;
}

/* Channel switcher optimizations */
.mobile-channel-switcher {
  @apply overflow-x-auto;
  scrollbar-width: none;
  -ms-overflow-style: none;
}

.mobile-channel-switcher::-webkit-scrollbar {
  display: none;
}

.mobile-channel-tab {
  @apply px-4 py-2 text-sm font-medium rounded-full whitespace-nowrap;
  min-width: max-content;
}

.mobile-channel-tab.active {
  @apply bg-primary text-primary-foreground;
}

.mobile-channel-tab:not(.active) {
  @apply bg-muted text-muted-foreground hover:bg-muted/80;
}

/* Sidebar optimizations */
.mobile-sidebar-overlay {
  backdrop-filter: blur(4px);
  -webkit-backdrop-filter: blur(4px);
}

.mobile-sidebar-content {
  @apply bg-background/95;
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
}

/* Loading states */
.mobile-skeleton {
  @apply animate-pulse bg-muted rounded;
}

.mobile-skeleton.message {
  @apply h-16 mb-2;
}

.mobile-skeleton.channel {
  @apply h-12 mb-1;
}

/* Status indicators */
.mobile-status-indicator {
  @apply inline-flex items-center px-2 py-1 rounded-full text-xs font-medium;
}

.mobile-status-indicator.connected {
  @apply bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400;
}

.mobile-status-indicator.disconnected {
  @apply bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400;
}

.mobile-status-indicator.connecting {
  @apply bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400;
}

/* Animation improvements */
.mobile-slide-in {
  animation: mobileSlideIn 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.mobile-slide-out {
  animation: mobileSlideOut 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

@keyframes mobileSlideIn {
  from {
    transform: translateX(-100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

@keyframes mobileSlideOut {
  from {
    transform: translateX(0);
    opacity: 1;
  }
  to {
    transform: translateX(-100%);
    opacity: 0;
  }
}

/* Responsive text sizing */
@media (max-width: 380px) {
  .mobile-chat-optimized .message-content {
    @apply text-sm;
  }
  
  .mobile-chat-optimized .message-sender {
    @apply text-xs;
  }
}

/* Dark mode adjustments */
@media (prefers-color-scheme: dark) {
  .mobile-chat-optimized {
    --message-hover-bg: rgba(255, 255, 255, 0.05);
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .mobile-chat-optimized .message-item {
    @apply border-b border-border/50;
  }
  
  .mobile-status-indicator {
    @apply border border-current;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .mobile-slide-in,
  .mobile-slide-out,
  .touch-feedback {
    animation: none;
    transition: none;
  }
}